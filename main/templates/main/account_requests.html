{% extends "main/base.html" %}

{% block title %}Account Requests{% endblock title %}

{% block content %}
<style>
	.table td.fit, 
	.table th.fit {
		white-space: nowrap;
		width: 1%;
	}
</style>
<div class="container h-100 my-5">
	<div class="row">
		<div class="col">
			<h1>Account Requests</h1>
			<table class="table table-striped table-hover my-3 rounded-3">
				<thead>
					<tr>
						<th scope="col">Name</th>
						<th scope="col">Email</th>
						<th scope="col">Role</th>
						<th colspan="2" scope="col">Action</th>
					</tr>
				</thead>	
				<tbody>
					{% for account in account_requests %}
						<tr class="align-middle">
							<td>{{account.first_name}} {{account.last_name}}</td>
							<td>{{account.email}}</td>
							<td>{{account.get_role_display}}</td>
							<td class="fit">
								<a class="btn btn-success" href="{% url 'account_request_approve' account.pk %}">
									<i class="fa-solid fa-check"></i>
									Accept
								</a>
							</td>
							<td class="fit">
								<a class="btn btn-danger" href="{% url 'account_request_deny' account.pk %}">
									<i class="fa-solid fa-x"></i>
									Deny
								</a>
							</td>
						</tr>
					{% empty %}
						<tr>
							<td colspan="5" class="text-center">
								No account requests found
							</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>			
		</div>
	</div>
</div>
{% endblock content %}
